"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18769],{499041:(e,t,r)=>{r.d(t,{b:()=>u,t:()=>o});var s=r(667294),i=r(342513),n=r(785893);let{Provider:a,useHook:o}=(0,i.Z)("LensContext");function u({children:e}){let[t,r]=(0,s.useState)(),[i,o]=(0,s.useState)(),[u,l]=(0,s.useState)([]),[c,d]=(0,s.useState)(),[p,m]=(0,s.useState)(),[h,_]=(0,s.useState)(!1);return(0,n.jsx)(a,{value:{heroImageUrl:i,historyData:u,image:t,imageData:p,isLensModalOpen:h,setHeroImageUrl:o,setHistoryData:l,setImage:r,setImageData:m,setIsLensModalOpen:_,setUpdatedCropArea:d,updatedCropArea:c},children:e})}},552341:(e,t,r)=>{r.d(t,{Z:()=>i});var s=r(149722);let i=()=>{let e=(0,s.Z)();return!!e.isAuth&&e.isPartner}},354500:(e,t,r)=>{r.d(t,{Oz:()=>s,mo:()=>a,nt:()=>n,v8:()=>i});let s={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE"},i="BUSINESS_PANEL",n="ASSET_PANEL",a=500},135987:(e,t,r)=>{r.d(t,{FE:()=>R,lG:()=>I,d9:()=>w});var s=r(667294),i=r(545007),n=r(616550),a=r(552341),o=r(516018),u=r(340523),l=r(149722),c=r(953565);let d=()=>{let e=(0,l.Z)(),{checkExperiment:t}=(0,u.F)(),r=(0,a.Z)()&&t("web_m10n_business_reporting_business_entity_service").anyEnabled,[i,n]=(0,s.useState)({isReady:!1}),d=(0,s.useCallback)(async({entityId:e,actingBusinessId:t,favorites:s})=>{r&&(await (0,o.yo)({entityId:e,actingBusinessId:t,favorites:s}),n(e=>{let r={...e,actingBusinessId:t};return s&&(r.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[s.actingBusinessId]:{advertiserId:s.adAccounts}}}),r}))},[r]);return(0,s.useEffect)(()=>{r&&e.isAuth&&!i.isReady&&(async()=>{let t=!1;try{let t=await (0,o.SF)({entityId:e.id});n(e=>({...e,...t}))}catch{t=!0}finally{(0,c.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:t}}),n(e=>({...e,isReady:!0}))}})()},[i.isReady,r,e]),{accountSwitcherConfig:i,setConfig:d}};var p=r(354500),m=r(214877),h=r(342513),_=r(96157),E=r(624797),f=r(938927),g=r(442279),S=r(575333);let b=(0,g.P1)(S.Z,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var v=r(454535),y=r(785893);let{Provider:A,useHook:w}=(0,h.Z)("AccountSwitcherContext"),I=e=>e.search&&(0,E.mB)(e.search).advertiserId,R=({children:e})=>{let t=(0,n.TH)(),{params:{userBizId:r,businessHierarchyId:u,advertiserId:c,username:h}}=(0,n.$B)(),E=I(t),g=(0,l.Z)(),S=i.v9(b)?.data||void 0,w=(0,v.rc)(S),[R,O]=(0,s.useState)(""),[C,T]=(0,s.useState)(null),[P,N]=(0,s.useState)(!1),[D,x]=(0,s.useState)(null),L=new URLSearchParams(t.search),[U,k]=(0,s.useState)(L.has("actingBusinessId")?null:{id:g.id||"",name:g.fullName||"",img:g.imageMediumUrl||""}),[$,j]=(0,s.useState)(!1),M=(0,a.Z)(),{logContextEvent:F}=(0,m.v)(),{accountSwitcherConfig:H,setConfig:Z}=d();(0,s.useEffect)(()=>{u?O(u):O("")},[u]);let B=(0,s.useCallback)(async({id:e,username:t})=>{let r=await (0,o.bG)({user_id:e,username:t});r&&x({type:e?p.Oz.BUSINESS_ACCOUNT:p.Oz.PROFILE,id:e||r.id,name:r.full_name,img:r.image_medium_url,username:t}),j(!1)},[]),V=(0,v.rc)(h);(0,s.useEffect)(()=>{(0,_.cD)(t)&&D&&V!==h&&h===g.username&&(B({username:g.username}),k({id:g.id||"",name:g.fullName||"",img:g.imageMediumUrl||""}),T({type:p.nt,id:g.id}))},[t,V,B,D,h,g.fullName,g.id,g.imageMediumUrl,g.username]),(0,s.useEffect)(()=>{let e=async({businessId:e,assetId:t})=>{if(!e){j(!1);return}try{let e={asset:{name:""},type:"AD_ACCOUNT"};if(g.isAuth){let{data:{data:r={[t]:e}}={}}=await (0,f.pI)({businessId:g.id,assetIds:[t],resourceType:"AD_ACCOUNT"})||{},{asset:s,type:i}=r[t]||e;x({id:t,name:s.name,img:"",type:i})}}catch{x({id:g.id||"",name:g.fullName||"",img:g.imageMediumUrl||"",type:p.Oz.BUSINESS_ACCOUNT})}j(!1)},s=async({id:e})=>{let t=await (0,o.p)({hierarchyId:e});x({id:e,name:t?.data?t.data.name:"",img:t?.data?t.data.img_medium_url:"",type:p.Oz.BUSINESS_HIERARCHY}),j(!1)};if(g.isAuth&&M){let i=D&&D.username&&D.username!==h,n=!0===S&&S!==w;if((!D||i||n)&&!$){let i=(0,_.TI)(t)||(0,_.h3)(t),n=c||!!E&&!i;j(!0),u?s({id:u}):r?B({id:r}):(0,_.cD)(t)&&h&&S?B({username:h}):n?e({businessId:g.id,assetId:c||E||""}):D&&D.id===g.id||(x({type:p.Oz.BUSINESS_ACCOUNT,id:g.id||"",name:g.fullName||"",img:g.imageMediumUrl||""}),j(!1))}}},[D,g,u,r,h,c,E,U,M,t,B,$,S,w]);let G=(0,s.useMemo)(()=>({activePanel:C,selectedHierarchyId:R,switcherOpen:P,openAccountSwitcher:()=>{if(F({event_type:101,view_type:608,component:14346}),!C){if((0,_.TI)(t))T({type:p.v8});else{let e=new URLSearchParams(t.search).get("actingBusinessId");T({type:p.nt,id:e??U?.id})}}N(!0)},closeAccountSwitcher:()=>N(!1),openAssetPanel:e=>{T({type:p.nt,id:e})},closeAssetPanel:()=>{T({type:p.v8})},actingBusiness:U,selectedAccount:D,setSelectedAccount:x,setActingBusiness:k,accountSwitcherConfig:H,setConfig:Z}),[C,R,P,U,D,H,Z,F,t]);return(0,y.jsx)(A,{value:G,children:e})}},593882:(e,t,r)=>{r.d(t,{C:()=>f,H:()=>g});var s=r(667294),i=r(552341),n=r(354500),a=r(516018),o=r(29156),u=r(250304),l=r(24691),c=r(342513),d=r(372085),p=r(244413),m=r(149722),h=r(186966),_=r(785893);let{Provider:E,useHook:f}=(0,c.Z)("BusinessHierarchyContext"),g=({children:e})=>{let[t,r]=(0,s.useState)([]),[c,f]=(0,s.useState)(!1),[g,S]=(0,s.useState)(!1),[b,v]=(0,s.useState)({}),[y,A]=(0,s.useState)(null),[w,I]=(0,s.useState)([]),[R,O]=(0,s.useState)({}),C=(0,h.Z)(),T=(0,s.useRef)(C),P=(0,m.Z)(),N=(0,i.Z)(),D=(0,s.useRef)({}),x=(0,s.useCallback)((e,t)=>{let r;t===n.Oz.BUSINESS_HIERARCHY?r=(0,l.Z)(u.Q6.DASHBOARD,"","",e):t===n.Oz.BUSINESS_ACCOUNT&&(r=(0,l.Z)(u.Q6.DASHBOARD,e));let s=(0,p.Z)({site:"www",path:r});(0,o.Z)(s)},[]),L=(0,s.useCallback)(async e=>{if(!N)return[];if(S(!0),D.current[e])return S(!1),D.current[e];{let{data:t}=(await (0,d.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,r=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=n.Oz.USER_ACCOUNT,e))),e))||[],s=/^\d+$/.test(e),i=RegExp(e.toLowerCase(),"g"),o=[];y||A(o=await T.current());let u=(y??o).filter(t=>s?t.id.includes(e):t.user.full_name.toLowerCase().match(i)).map(a.IT),l=[...r.map(e=>e.id),...u.map(e=>e.id)],c=s?(P.id||"").includes(e):(P.fullName||"").toLowerCase().match(i);return P.isAuth&&c&&l.push(P.id),D.current[e]=l,S(!1),l}},[N,T,P.id,P.fullName,P.isAuth,y]),{id:U="",username:k="",email:$="",fullName:j="",imageSmallUrl:M="",imageMediumUrl:F="",isAuth:H}=P,Z=async e=>{if((!H||!N||y)&&!e)return;f(!0);let t=[];try{let{data:e}=(await (0,d.Z)({url:"ads/v4/business_access/business_hierarchies/"})).resource_response;t=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=n.Oz.USER_ACCOUNT,e))),e))||[],r(t)}catch{r([])}try{let e=[];y||(e=await T.current(),A(e));let r=y??e;I(r.map(a.IT)),O(r.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),v((0,a.WP)({id:U,username:k,email:$,fullName:j,imageSmallUrl:M,imageMediumUrl:F})),D.current[""]=[...t.map(e=>e.id),...r.map(a.IT).map(e=>e.id),U],f(!1)}catch{f(!1)}},B=(0,s.useCallback)(Z,[U,k,$,j,M,F,H,N,y]),V=(0,s.useCallback)(e=>t.some(t=>t.id===e||t.children.some(t=>t.id===e||t.user.id===e)),[t]),G=(0,s.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),z=(0,s.useMemo)(()=>({businessHierarchies:[...b.id&&!V(b.id)?[b]:[],...t,...w.filter(e=>!V(e.id))],switchAccount:x,searchAccounts:L,loadingAccounts:c,isSearchingAccounts:g,fetchData:B,getParentHierarchyForIdIfExists:G,viewerRolesOfEachEmployer:R}),[t,x,L,w,c,g,b,B,V,G,R]);return(0,_.jsx)(E,{value:z,children:e})}},820281:(e,t,r)=>{r.d(t,{K:()=>d,r:()=>m});var s=r(667294),i=r(342513),n=r(288673),a=r(340523),o=r(149722),u=r(953565),l=r(785893);let{Provider:c,useHook:d}=(0,i.Z)("CustomShortcutsContext"),p=()=>Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]),m=({children:e})=>{let t=(0,o.Z)(),r=(0,a.F)(),[i,d]=(0,s.useState)({}),m=(0,s.useCallback)(async()=>{let{anyEnabled:e}=r.checkExperiment("exp_ia_navigation_mega_nav_m2"),s=p().every(e=>!window.location.href?.includes(e));if(e&&t.isAuth&&!t.isLimitedLogin&&s)try{let e=(await (0,n.FO)([{entity_id:t.id,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(e&&e.properties))return;let r=e.properties.NAVBAR_CONFIG;d(r.customShortcuts||{})}catch(e){(0,u.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t.id,error:e.message}})}},[t.isAuth,t.id,t.isLimitedLogin,r]),h=(e,t)=>({entity_id:e,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:t}}}),_=(0,s.useCallback)(async e=>{let{anyEnabled:s}=r.checkExperiment("exp_ia_navigation_mega_nav_m2");if(!(t.isAuth&&s))return(0,u.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:"Auth_Error"}}),{error:"Auth_Error"};try{let r=h(t.id,e);return await (0,n.VW)([r]),m(),{error:null}}catch(e){return(0,u.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t.id,error:e.message}}),{error:"Upsert_Error"}}},[t.isAuth,t.id,r,m]);(0,s.useEffect)(()=>{m()},[m]);let E=(0,s.useMemo)(()=>({shortcuts:i,upsertShortcuts:_}),[i,_]);return(0,l.jsx)(c,{value:E,children:e})}},214274:(e,t,r)=>{r.d(t,{Z:()=>s});let s='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},263032:(e,t,r)=>{r.d(t,{YS:()=>a,eF:()=>o,m_:()=>n});var s=r(934378),i=r(953565);function n(e,t,r,n,a){let o=new URLSearchParams,u=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(s){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);o.append(s.NR.SOURCE_EVENT_ID,e??"0"),o.append(s.NR.DESTINATION,JSON.stringify([...u])),o.append(s.NR.EXPIRY,r?s.uV:s.ug),o.append(s.NR.PRIORITY,r?s.NR.CLICK_PRIORITY:s.NR.VIEW_PRIORITY),a&&o.append(s.NR.ADVERTISER_ID,a),n&&o.append(s.NR.CAMPAIGN_ID,n),o.append(s.NR.SOURCE_EVENT_TYPE,r?s.bC:s.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(s.NR.HOSTNAME,e)}catch(e){(0,i.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function a(e,t,r,s,a,o,u,l,c){let d;let{appType:p,osType:m}=o||{},h="",_="";if(["Pin","pinImpressions"].includes(e)&&t&&(s||l||c)){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:p,osType:m}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:p,osType:m}});return}h=n(r,[s,l,c],!1,a,u);try{_=new URL(window.location.href).hostname}catch(e){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(_&&"www.pinterest.com"!==_)document.createElement("img").setAttribute("attributionsrc",h),(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:p,osType:m,hostname:_}});else if(!(d=await window.fetch(h,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:p,osType:m}})}catch(e){(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name,message:e.message,appType:p,osType:m,hostname:_,responseStatus:d&&d.status}})}}else(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:p,osType:m}})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},86785:(e,t,r)=>{r.d(t,{G6:()=>n,i7:()=>a,oi:()=>s,u$:()=>i,un:()=>u,vU:()=>o,w1:()=>l});let s=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?s.CHROME:e.includes("Safari")?s.SAFARI:e.includes("Firefox")?s.FIREFOX:e.includes("Opera")?s.OPERA:e.includes("IE")?s.IE:e.includes("Edge")?s.EDGE:s.OTHER:s.OTHER;function n(e){return i(e)===s.SAFARI}function a(e){return i(e)===s.CHROME}function o(e){return i(e)===s.FIREFOX}function u(e){return i(e)===s.EDGE}function l(e){return i(e)===s.IE}},24691:(e,t,r)=>{r.d(t,{Z:()=>n});let s="/business/business-manager/",i="/business/business-hierarchy/",n=(e,t,r,n)=>{switch(e){case"DASHBOARD":return n?`${i}${String(n)}/dashboard/`:`${s}${String(t)}/dashboard/`;case"PEOPLE":return`${s}${String(t)}/employees/`;case"PARTNERS":return`${s}${String(t)}/partners/`;case"AD_ACCOUNTS":return`${s}${String(t)}/ad-accounts/`;case"HISTORY":return`${s}${String(t)}/history/`;case"PEOPLE_DETAIL":return`${s}${String(t)}/employees/${String(r)}/details/`;case"PARTNERS_DETAIL":return`${s}${String(t)}/partners/${String(r)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${s}${String(t)}/shared/${String(r)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${s}${String(t)}/ad-accounts/${String(r)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${s}${String(t)}/ad-accounts/pending/${String(r)}/details/`;case"PEOPLE_INVITES":return`${s}${String(t)}/employees/invites/`;case"PEOPLE_PENDING_TAB":return`${s}${String(t)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${s}${String(t)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${s}${String(t)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${s}${String(t)}/ad-accounts/cee-migration`;case"PARTNERS_INVITE_PAGE":return`${s}${String(t)}/partners/invites/`;case"PARTNERS_REQUEST_PAGE":return`${s}${String(t)}/partners/requests/`;case"PROFILES":return`${s}${String(t)}/profiles/`;case"PROFILES_DETAIL":return`${s}${String(t)}/profiles/${String(r)}/details/`;case"BUSINESS_SECURITY":return`${s}${String(t)}/security/`;case"SUPPORT_TOOL":return`${s}${String(t)}/support/`;case"ASSET_GROUPS":return r?`${s}${String(t)}/asset-groups/?asset_group_id=${String(r)}`:`${s}${String(t)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${s}${String(t)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${i}${String(n)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${i}${String(n)}/business_security/`;case"MANAGERS":return`${i}${String(n)}/managers/`;case"AUDIENCES":return`${s}${String(t)}/audiences/`;case"SHARED_TAGS":return`${s}${String(t)}/shared-tags/`;case"CATALOGS":return`${s}${String(t)}/catalogs/`;case"BRAND_SAFETY":return`${s}${String(t)}/brand-safety/`;default:return s}}},798580:(e,t,r)=>{r.d(t,{Z:()=>u});var s=r(624797);let i=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,n=(e,t)=>t?e.substring(t.length).split("/")[0]:e,a=({boardUrl:e,path:t,pinId:r,pinnerUserName:a,search:o,storyPinDataId:u})=>{if(!t)return"";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case a&&`/${a}/pins/`:return"UserPinsResource";case a&&`/${a}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case a&&`/${a}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:let l=n(t,"/pin/");if(r!==l)return`RelatedPinFeedResource_${l}`;break;case/\/search\//.test(t)&&t:if(o){let e=(0,s.mB)(o,{shouldDecode:!1}).q||"";return`SearchResource_${e.toLowerCase()}`}break;case/\/categories\//.test(t)&&t:let c=n(t,"/categories/");return`CategoryFeedResource_${c}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:let d=n(t,"/news_hub/");return`NewsHubDetailsResource_${d}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:let p=n(t,"/topics/");return`TopicFeedResource_${p}`;case/\/source\//.test(t)&&t:let m=n(t,"/source/");return`DomainFeedResource_${m}`;case/\/explore\//.test(t)&&t:let h=n(t,"/explore/");return`SearchResource_${h}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case i.test(t)&&t:let _=t.match(i)?.[2]||"unknown";return`TodayArticleFeedResource_${_}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(o){let{feed_type:e,request_params:t}=(0,s.mB)(o);return`StoryFeedResource_${e}_${t}`}}return""},o=e=>{let t=e?.pathname;return t?(t.match(/\/search\//)&&e?.search&&(t+=e.search),t.toLowerCase()):""},u=({boardUrl:e,location:t,pinId:r,pinnerUserName:s,previousHistory:i,storyPinDataId:n,trackingParams:u,trackingParamsMap:l={}})=>{let c,d;if(!r||!u||!t)return;if(!l)return`${u??""}~0`;let{pathname:p,search:m}=t,h=a({boardUrl:e,path:p,pinId:r,pinnerUserName:s,search:m,storyPinDataId:n,trackingParams:u,trackingParamsMap:l}),_=Object.keys(l);if((p||"").startsWith("/pin/")){let e=_.find(e=>"PinResource"!==e);c=e?l[e]:l.PinResource}else c=l[h];return!c&&i&&i.length&&(d=a({boardUrl:e,path:o(i[i.length-1].location),pinId:r,pinnerUserName:s,search:m,storyPinDataId:n,trackingParams:u,trackingParamsMap:l}),c=l[d]),c||(c=`${u||""}~0`),c}},259866:(e,t,r)=>{r.d(t,{Z:()=>s});function s(e){return function e(t,r){let s;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let i=r.find(e=>e.value===t);if(i)return i.result;let n=Object.prototype.toString.call(t);switch(n){case"[object Array]":s=Array(t.length);break;case"[object Set]":s=new Set;break;case"[object Object]":case"[object Arguments]":s={};break;case"[object Map]":s=new Map;break;default:return t}let a=[...r,{value:t,result:s}];switch(n){case"[object Array]":t.forEach((t,r)=>{s[r]=e(t,a)});break;case"[object Set]":t.forEach(t=>{s.add(e(t,a))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,r])=>{s[t]=e(r,a)});break;case"[object Map]":t.forEach((t,r)=>{s.set(r,e(t,a))})}return s}(e,[])}},619370:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(667294),i=r(883119),n=r(401429),a=r(785893);function o(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends s.PureComponent{constructor(...e){super(...e),o(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),o(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:r,idealDirection:s}=this.props,n=r.slice(-3);return(0,a.jsx)(i.J2,{anchor:e,color:"white",idealDirection:s,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(i.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(i.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(i.xu,{display:"flex",marginEnd:-2,paddingX:2,children:n.map(e=>(0,a.jsx)(i.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(i.zd,{height:60,rounding:2,children:(0,a.jsx)(i.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var l=r(76561);function c(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends s.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,s.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",()=>{this.dismissRef.current?.()}),c(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){e.has_pulsar=null==e.has_pulsar||e.has_pulsar,e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,r){return(t&&e.text.replace("{boardName}",t),r)?r(e):e.text}render(){let{anchor:e,customWrapper:t,experienceIds:r,boardTextOverride:o,flyoutSize:c,fontSize:d,hasFullWidthButton:p=!0,idealDirection:m,useMasonryFlyout:h,noClickToDismiss:_,onClickComplete:E,onClickDismiss:f,placementId:g,positionRelativeToAnchor:S,shouldSeeReturnToHomeFeedTooltipEdu:b=!1,shouldTimeoutDismiss:v,showCaret:y,textAlign:A,textOverflow:w,textOverrideFn:I,textWeight:R,customizedComplete:O,pulsarZIndex:C,advertiserId:T,dismissButtonLocation:P,dismissButtonColor:N,dismissButtonMarginTop:D}=this.props,x=t||(({children:e})=>h?(0,a.jsx)(i.mh,{children:e}):e);return(0,a.jsx)(n.Z,{eligibleIds:r,eligibleTypes:[8],placementId:g,targeting:T?{advertiserId:parseInt(T,10)}:null,children:({complete:t,dismiss:r,experience:n})=>{let{display_data:{scroll_to_dismiss:g,scroll_to_dismiss_delay_in_seconds:T=0,...L}}=n,U=g&&e,k=()=>{$(),this.timer||(this.timer=setTimeout(r,1e3*T))},$=()=>{U&&(window.removeEventListener("scroll",k),window.removeEventListener("touchmove",k))},j=()=>{$(),t()};if(U&&(window.addEventListener("scroll",k),window.addEventListener("touchmove",k)),this.setDefaultPulsarTooltip(L),!L.has_pulsar&&!L.has_tooltip)return j(),null;v&&L.disappearTime&&L.disappearTime>0&&(this.timer=setTimeout(()=>(k(),null),L.disappearTime));let M=501041===n.experience_id||505086===n.experience_id;return L.has_tooltip&&!L.has_pulsar&&(this.dismissRef.current=k,e?.addEventListener("click",this.dismissCb)),(0,a.jsxs)(s.Fragment,{children:[L.has_pulsar&&(0,a.jsx)(l.Z,{anchor:e,leftOverride:M?342:void 0,onTouch:()=>this.handlePulsarClick(L.has_tooltip,j),paused:this.state.paused,topOverride:M?-5:void 0,zIndex:C&&C.index()}),L.has_tooltip&&(!L.has_pulsar||this.state.paused)&&(L.thumbnail_urls?(0,a.jsx)(u,{anchor:e,dismiss:k,idealDirection:m||"down",text:L.text,thumbnails:L.thumbnail_urls}):(0,a.jsx)(x,{children:(0,a.jsx)(i.J2,{_deprecatedShowCaret:y,anchor:e,color:"deprecatedBlue",idealDirection:m||"down",onDismiss:_?()=>{}:k,positionRelativeToAnchor:!h&&S,shouldFocus:!1,size:c,children:(0,a.jsxs)(i.xu,{column:12,paddingX:b?5:3,paddingY:3,children:[(0,a.jsxs)(i.xv,{align:"right"===A?"end":A,color:"inverse",overflow:w,size:d,weight:R||"bold",children:[this.getText(L,o,I),L.secondary_cta_link&&(0,a.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(i.xv,{color:"inverse",size:d,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inlineBlock",href:L.secondary_cta_link.url,target:"blank",underline:"hover",children:L.secondary_cta_link.text})})})]}),L.sub_text&&(0,a.jsx)(i.xu,{paddingY:2,children:(0,a.jsx)(i.xv,{color:"inverse",size:d,children:L.sub_text})}),(L.dismiss_button_text||L.complete_button_text)&&(0,a.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:P||"start",marginTop:D||2,children:[L.dismiss_button_text&&(0,a.jsx)(i.xu,{column:6,marginEnd:1,children:(0,a.jsx)(i.zx,{color:N||"blue",fullWidth:p,onClick:()=>{f&&f(),k()},size:"md",text:L.dismiss_button_text})}),L.complete_button_text&&(0,a.jsx)(i.xu,{column:L.dismiss_button_text?6:12,children:O?(0,a.jsx)(i.iP,{fullHeight:!0,onTap:()=>{j(),E&&E()},rounding:2,children:(0,a.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(i.xv,{color:"shopping",weight:"bold",children:L.complete_button_text})})}):(0,a.jsxs)(i.kC,{justifyContent:"center",children:[L.complete_button_cta_url&&(0,a.jsx)(i.ZP,{color:"white",fullWidth:p,href:L.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),j(),E&&E()},size:"md",target:L.complete_button_cta_url?"blank":null,text:L.complete_button_text}),!L.complete_button_cta_url&&(0,a.jsx)(i.zx,{color:"white",fullWidth:p,onClick:()=>{j(),E&&E()},size:"md",text:L.complete_button_text})]})})]})]})})}))]})}})}}c(d,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},307772:(e,t,r)=>{function s(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:()=>d,LU:()=>p,ZP:()=>m});let i=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},o={background:"#FF8A8A",transform:"scale(.98)"},u={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:o,[n.stopped]:o,[n.paused]:o,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class l{constructor(e){s(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),s(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),s(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),s(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){let e=Date.now();this.startTime=e,this._debug(n.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach(e=>e())}else!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON())));this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,i&&Object.assign(this.node.style,u.init(e)),this}pause(){return this.inViewport&&(this._debug(n.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`}}_debug(e,t){if(i)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),u[e]&&Object.assign(this.node.style,u[e]),e){case n.flushed:case n.paused:case n.exit:a[this.debugId]=!0}}}function c(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let d=!0,p=!1;class m{constructor(){c(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),c(this,"_handleMutations",(e,t)=>{let r=this.mutationObservers.get(t);r&&r.offsetHeight<1&&r&&this.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new l(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=d){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=d){(e!==p||this.pausePriority!==d)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:r}=t.getBoundingClientRect();return r>e?r:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:r}=t.getBoundingClientRect();return r<e?r:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let r={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},30378:(e,t,r)=>{r.d(t,{Z:()=>s});let s=new(r(307772)).ZP},588664:(e,t,r)=>{r.d(t,{Z:()=>s});function s(e,t,r=28){let i;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let n=new Date,a=i?new Date(i):n;return a.setDate(a.getDate()+r),new Date().getTime()<a.getTime()}},317540:(e,t,r)=>{r.d(t,{Z:()=>s});let s={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},705895:(e,t,r)=>{function s(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});let i=new class{constructor(){s(this,"onResumeListeners",[]),s(this,"onPauseListeners",[]),s(this,"inExp",!1),s(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},n=e=>{if(e.isHidden){let{reason:t}=e;i.windowInFocus=!1,i.onPauseListeners.forEach(e=>e(t))}else i.windowInFocus=!0,i.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>n({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>n({isHidden:!1})),window.addEventListener("blur",()=>n({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>n({isHidden:!1})),window.addEventListener("pagehide",()=>n({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>n(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>n(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=i},729817:(e,t,r)=>{r.d(t,{Kw:()=>o,RD:()=>u,dD:()=>c});var s=r(216167),i=r(372085),n=r(598753);let a=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],o=async()=>{let e=await s.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},u=(e,t)=>{let r=Object.freeze({});try{r=(0,n.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let s=Object.keys(r);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===s.length||r[s[0]].logged_in){e(`${t}.removeAccountDataFromLocalStorage.early_return`);return}let i=s.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,n.r8)(i),e(`${t}.removeAccountDataFromLocalStorage.updated`)},l=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...l(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),c=async e=>{let t=await o(),r=e.id;t[r]||(t[r]={logged_in:!0});let s=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:a.join(",")}})),n=(await (0,i.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(s)}})).resource_response.data;return n&&Object.keys(n).length>0?function(e){let t=e.every(e=>!!e.fullName)?"fullName":"username";return[...e].sort((e,r)=>e[t]>r[t]?1:r[t]>e[t]?-1:0)}(Object.keys(n).filter(e=>"success"===n[e].status).map(e=>l(n[e].data))):[]}},107981:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(667294).createContext)(null)},95732:(e,t,r)=>{r.d(t,{Z:()=>s});let s=(0,r(667294).createContext)(null)},309300:(e,t,r)=>{r.d(t,{D3:()=>n,Hd:()=>u,jh:()=>o,rX:()=>a});var s=r(383340),i=r(302234);let n=e=>({...(0,s.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),a=()=>{let{largestContentfulPaint:e}=(0,i.v2)();return{largestContentfulPaint:e||0}},o=(e,t)=>Object.keys(t).reduce((r,s)=>({...r,[`${e}${s}`]:t[s]}),{}),u=(e,t)=>Object.keys(e).reduce((r,s)=>t.includes(s)?{...r,[s]:e[s]}:r,Object.freeze({}))},383340:(e,t,r)=>{r.d(t,{Z:()=>s});let s=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},840387:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(253926),i=r(383340),n=r(404373);let a=({category:e,isDeferred:t,isExternal:r})=>[e].concat(t?["deferred"]:[]).concat(r?["external"]:[]).join("_");function o(e,t){let{category:r,timing:o,isDeferred:u,isExternal:l,isVisuallyCompleteRequired:c}=e;return o.responseEnd&&("image"!==r||c)?{name:a(e),id:(0,n.Z)(),parentId:t,startTime:o.startTime,endTime:o.responseEnd,annotationMap:(0,i.Z)(o),binaryAnnotationMap:{category:(0,s.sk)(r),decodedBodySize:(0,s.cC)(o.decodedBodySize||0),initiatorType:(0,s.sk)(o.initiatorType),isDeferred:(0,s.qr)(u),isExternal:(0,s.qr)(l),name:(0,s.sk)(o.name),nextHopProtocol:(0,s.sk)(o.nextHopProtocol),transferSize:(0,s.cC)(o.transferSize||0)}}:null}},308548:(e,t,r)=>{r.d(t,{Z:()=>s});let s=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},623409:(e,t,r)=>{r.d(t,{Z:()=>u});var s=r(667294),i=r(616550),n=r(96157),a=r(217058);let o=e=>(0,n.L6)(e)?"pin":(0,n.am)(e)?"board":(0,n.Xn)(e)?"login":(0,n.C$)(e)?"home":(0,n.cD)(e)?"profile":(0,n.dr)(e)?"ideas":(0,n.gT)(e)?"ideas-root":(0,n.tZ)(e)?"videos":(0,n.Q0)(e)?"videos-category":(0,n.$Y)(e)?"article":(0,n.E0)(e)?"shopping-spotlight":(0,n.Zz)(e)?"today":(0,n.j8)(e)?"unauth-profile":(0,n.f1)(e)?"shopping-root":(0,n.OX)(e)?"shopping-category":"other";function u(){let e=(0,i.TH)();return(0,s.useCallback)(({action:t,item:r,within:s})=>{let i=o(e);(0,a.My)(`logged_out_product.interaction.${i}.${t}`,{item:r||"none",within:s||"none"})},[e])}},487487:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(689390),i=r(139655);let n=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,r=(0,i.Z)(e);if(t.test(r.path)){let e=r.path.match(t);if(e)return(0,s.Z)(e[1]).pinId||void 0}}},998449:(e,t,r)=>{r.d(t,{Z:()=>n});let s=(e,t)=>0===e.lastIndexOf(t,0);var i=r(885896);let n=({url:e})=>{let t=(0,i.Z)("/");return s(e,t)?e.substr(t.length-1):e}},477458:(e,t,r)=>{r.d(t,{Z:()=>a,q:()=>n});var s=r(667294);let i=()=>{let[e,t]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!1),[n,a]=(0,s.useState)(!1);return{active:e,focused:r,hovered:n,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function n({children:e}){return e(i())}let a=i},760101:(e,t,r)=>{r.d(t,{G:()=>o,Z:()=>u});var s=r(667294),i=r(616550),n=r(785893);let a=(0,s.createContext)(!0);function o({children:e}){let t=(0,i.TH)(),[r,o]=(0,s.useState)(!0),u=(0,s.useRef)(t);return(0,s.useEffect)(()=>{u.current!==t&&(u.current=t,o(!1))},[t]),(0,n.jsx)(a.Provider,{value:r,children:e})}function u(){return(0,s.useContext)(a)}},369708:(e,t,r)=>{r.d(t,{Wr:()=>c,rG:()=>l});var s=r(667294),i=r(214877),n=r(342513),a=r(340523),o=r(785893);let{Provider:u,useHook:l}=(0,n.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:r}=(0,i.v)(),{checkExperiment:n}=(0,a.F)(),[l,c]=(0,s.useState)(!1),[d,p]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[_,E]=(0,s.useState)({}),f=n("web_ads_mrc_video_impression").anyEnabled,g=e=>{E(t=>({...t,[e]:!0}))},S=(0,s.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||r)&&p(t=>[...t,e].slice(-1e3))}},[f]),b=(0,s.useCallback)(e=>{18===e.eventType&&f&&h(t=>[...t,e].slice(-1e3))},[f]),v=e=>{let{renderDuration:t,time:r}=e.event_data.pinImpressions[0],s=Math.max(t,15e8);return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:r+s,renderDuration:s}]}}},y=e=>{if(e.eventData){let{time:t,endTime:r}=e.eventData,s=Math.max((r??0)-(t??0),15e8);return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:(t??0)+s}}}return null};(0,s.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!_[r]||!f||(t(v(e)),!1)});e.length!==d.length&&p(e)},[d,f,t,_]),(0,s.useEffect)(()=>{let e=m.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(_[t]&&f){let t=y(e);return t&&r(t),!1}return!0});e.length!==m.length&&h(e)},[m,f,r,_]);let A=(0,s.useMemo)(()=>({captionsEnabled:l,logMrcVideoAdImpressionOnPlay:b,logMrcVideoAdEventOnPlay:S,setCaptionsEnabled:c,setVideoPlayed:g,videosPlayed:_}),[l,S,b,_]);return(0,o.jsx)(u,{value:A,children:e})}},186966:(e,t,r)=>{r.d(t,{Z:()=>i});var s=r(372085);function i(){return async()=>{let e=await (0,s.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},575333:(e,t,r)=>{r.d(t,{Z:()=>s});let s=({businessAccess:e})=>e??{}},474708:(e,t,r)=>{r.d(t,{q:()=>p,y:()=>m});var s=r(667294),i=r(340523),n=r(5859),a=r(238299),o=r(372085);function u(e,t){(0,a.TT)(t)&&(0,o.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var l=r(897295),c=r(785893);let d=(0,s.createContext)({campaignToolPreference:null,updateCampaignToolPreference:u}),p=({children:e})=>{let[t,r]=(0,s.useState)(null),o=(0,i.F)(),{advertiser:p}=(0,n.B)(),m=async(e,t)=>{u(e,t),r(t)};(0,s.useEffect)(()=>{(0,a.UM)(o,{skipActivation:!0})&&(async()=>{p&&r(await (0,l.f)(p.id))})()},[p,o]);let h=(0,s.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:m}),[t]);return(0,c.jsx)(d.Provider,{value:h,children:e})},m=()=>(0,s.useContext)(d)},897295:(e,t,r)=>{r.d(t,{Z:()=>d,f:()=>c});var s=r(667294),i=r(372085),n=r(340523),a=r(5859),o=r(238299);let u="ADVERTISER",l=(e,t)=>e&&e[t]&&e[t][0]&&e[t][0].preferences,c=async e=>{let t;try{let r=(await (0,i.Z)({method:"GET",url:`/ads/v4/preferences/${e}/`,data:{level:u,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data;t=l(r,u)}catch{return null}return t&&(0,o.TT)(t)?t:null},d=()=>{let[e,t]=(0,s.useState)(null),r=(0,n.F)(),{advertiser:i}=(0,a.B)();return(0,s.useEffect)(()=>{(0,o.UM)(r,{skipActivation:!0})&&(async()=>{i&&t(await c(i.id))})()},[i,r]),e}},454535:(e,t,r)=>{r.d(t,{XI:()=>i,YZ:()=>a,rc:()=>n,sU:()=>l});var s=r(667294);function i(e){let[t,r]=(0,s.useState)(!1),i=()=>r(!0),n=()=>r(!1);return(0,s.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",n)),()=>{t&&(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",n))}}),t}let n=e=>{let t=(0,s.useRef)(e);return(0,s.useEffect)(()=>{t.current=e}),t.current};function a(){let e=(0,s.useRef)(!0);return(0,s.useEffect)(()=>{e.current=!1},[]),e.current}function o(e,t){return Object.is(e,t)}let u=Symbol("pre-initial value");function l(e,{equal:t=o,delta:r}={equal:o}){let i=(0,s.useRef)(u),n=i.current;return(0,s.useEffect)(()=>{i.current=e}),{previousValue:n,changed:n===u||!t(n,e),delta:r?.(n,e)}}},239821:(e,t,r)=>{r.d(t,{g:()=>p,I:()=>d});var s=r(667294),i=r(342513),n=r(705895),a=r(259866);let o={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},u=(e=o,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:s,isPromoted:i,currentTime:n,allowMultipleOrganicVideos:o}=r,{videosAutoplaying:u}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:c,organicVideosAutoplaying:d}=u,p=(0,a.Z)(c),m=(0,a.Z)(d);return i||!l||o?(i?p[s]={pinId:s,currentTime:n,paused:!1}:m[s]={pinId:s,currentTime:n,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:i?l:s,promotedVideosAutoplaying:p,organicVideosAutoplaying:m}}):e}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:s,isPromoted:i,currentTime:n}=r,{videosAutoplaying:o}=e,{promotedVideosAutoplaying:u,organicVideosAutoplaying:l}=o,c=(0,a.Z)(u),d=(0,a.Z)(l);return i?c[s]={...c[s],paused:!0,currentTime:n}:d[s]={...d[s],paused:!0,currentTime:n},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:d}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var l=r(785893);let{Provider:c,useHook:d}=(0,i.Z)("AppUI");function p({children:e}){let[t,r]=(0,s.useReducer)(u,o),i=(0,s.useCallback)(e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,s.useCallback)(e=>r({type:"SET_APP_FOCUS_STATE",payload:e}),[]),d=(0,s.useCallback)(e=>r({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,s.useCallback)(e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),m=(0,s.useCallback)(e=>r({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,s.useCallback)(e=>r({type:"SET_VIEWPORT_SIZE",payload:e}),[]),_=(0,s.useCallback)(e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),E=(0,s.useMemo)(()=>({pauseAutoplay:i,setCurrentVideo:d,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:h,toggleTypeaheadOverlay:_,setAppFocusState:a,appUI:t}),[i,d,p,m,h,_,a,t]);return(0,s.useEffect)(()=>{n.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,l.jsx)(c,{value:E,children:e})}},514810:(e,t,r)=>{r.d(t,{C:()=>s,Z:()=>n});let{Provider:s,useHook:i}=(0,r(342513).Z)("Header"),n=i},483169:(e,t,r)=>{r.d(t,{_:()=>d,j:()=>p});var s=r(667294),i=r(700280),n=r(342513),a=r(288673),o=r(340523),u=r(149722),l=r(785893);let{Provider:c,useHook:d}=(0,n.Z)("SosInfo");function p({children:e}){let[t,r]=(0,s.useState)("0"),{is_sterling_on_steroids:n}=(0,i.u)(),d=(0,u.Z)(),p=d?.id,m=(0,o.F)().checkExperiment("ads_billing_sos_separated_header").anyEnabled;(0,s.useEffect)(()=>{!async function(){if(n&&m){let e=await (0,a.gE)({entity_id:p});e&&e.sos_user_type&&r(e.sos_user_type)}}()},[p,n,m]);let h=(0,s.useMemo)(()=>({adminPermissionType:t}),[t]);return(0,l.jsx)(c,{value:h,children:e})}},520719:(e,t,r)=>{r.d(t,{$o:()=>a,GW:()=>s,Jo:()=>n,MS:()=>f,Q8:()=>_,VX:()=>m,Zo:()=>u,aD:()=>l,b2:()=>d,g2:()=>p,s4:()=>o,tK:()=>E,ym:()=>c,zQ:()=>h});let s="/business/hub/?show_vmp=true",i=["FR"],n=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!i.includes(e)),a={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},o=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),u=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),l=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),c="Verified merchant program not yet available in this country",d=2e3,p={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},m=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),h=[m.ACCOUNT_AGE,m.DOMAIN_AGE,m.PROFILE_IMAGE,m.PROFILE_COVER_IMAGE,m.BIO,m.SHOP_TAB,m.PINNER_FEEDBACK],_=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),E=30,f=.5},563366:(e,t,r)=>{r.d(t,{L:()=>s,Z:()=>i});let s=506467,i="_self-profile"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/18769-446a62049fc58340.mjs.map